<h1>Localytics Module</h1>
<h2>Description</h2>
<p>Localytics is a closed-loop app analytics and marketing platform that helps brands acquire, engage, and retain users.</p>
<h2>Accessing the Localytics Module</h2>
<p>To access this module from JavaScript, you would do the following:</p>
<p>var localytics = require("com.localytics");</p>
<p>The localytics variable is a reference to the Module object.</p>
<h2>Usage</h2>
<p>See app.js for usage.</p>
<h2>Author</h2>
<p>Localytics. For support email <a href="mailto:support@localytics.com">support@localytics.com</a>.</p>
<h2>Installing</h2>
<ul>
<li>Follow the steps at http://docs.appcelerator.com/titanium/3.0/#!/guide/Using_a_Module to add the localytics module to your project</li>
</ul>
<h2>Integration</h2>
<h3>Android</h3>
<ul>
<li>Open tiapp.xml in the XML editor mode. Add a <code>&lt;manifest&gt;</code> section to the <code>&lt;android&gt;</code> section if you have not already done so.</li>
<li>In the <code>&lt;application&gt;</code> tag in the manifest add the following:
<code>&lt;meta-data android:name="LOCALYTICS_APP_KEY" android:value="YOUR-APP-KEY"/&gt;</code></li>
<li>In the <code>&lt;manifest&gt;</code> section, add the following
<code>&lt;uses-permission android:name="android.permission.INTERNET" /&gt;
&lt;uses-permission android:name="android.permission.WAKE_LOCK" /&gt;</code></li>
<li>If you're using Localytics Push Messaging, also include the following permissions. NOTE: Replace YOUR.PACKAGE.NAME with your package name (i.e. com.yourcompany.yourapp)
<code>&lt;uses-permission android:name="android.permission.GET_ACCOUNTS" /&gt;
&lt;uses-permission android:name="com.google.android.c2dm.permission.RECEIVE" /&gt;
&lt;permission android:name="YOUR.PACKAGE.NAME.permission.C2D_MESSAGE" android:protectionLevel="signature" /&gt;
&lt;uses-permission android:name="YOUR.PACKAGE.NAME.permission.C2D_MESSAGE" /&gt;</code></li>
<li>If you're using Localytics Push Messaging, add the sender ID property at the top-level (same level as <code>id</code> and <code>name</code>). NOTE: Replace YOUR_PROJECT_NUMBER with the number from your Google API Project. See the instructions <a href="https://support.localytics.com/Android_SDK_integration#Push_Notifications">here</a> for setting up your Google API Project and configuring the server API key in the Localytics Dashboard.
<code>&lt;property name="com.localytics.android_push_sender_id"&gt;YOUR_PROJECT_NUMBER&lt;/property&gt;</code></li>
<li>Also for Localytics Push Messaging, add the following within the <code>&lt;application&gt;</code> tag. NOTE: Replace YOUR.PACKAGE.NAME with your package name (i.e. com.yourcompany.yourapp). This should match the <code>id</code> property in tiapp.xml.
<code>&lt;service android:name="com.localytics.gcm.GCMIntentService"/&gt;
&lt;receiver
android:name="com.localytics.gcm.GCMBroadcastReceiver" android:permission="com.google.android.c2dm.permission.SEND"&gt;
&lt;intent-filter&gt;
&lt;action android:name="android.intent.action.BOOT_COMPLETED"/&gt;
&lt;category android:name="android.intent.category.HOME"/&gt;
&lt;/intent-filter&gt;
&lt;intent-filter&gt;
&lt;action android:name="com.google.android.c2dm.intent.RECEIVE"/&gt;
&lt;category android:name="YOUR.PACKAGE.NAME"/&gt;
&lt;/intent-filter&gt;
&lt;intent-filter&gt;
&lt;action android:name="com.google.android.c2dm.intent.REGISTRATION"/&gt;
&lt;category android:name="YOUR.PACKAGE.NAME"/&gt;
&lt;/intent-filter&gt;
&lt;/receiver&gt;</code></li>
<li>If you're using Localytics Acquisition Tracking, add registration for the Localytics Referral Receiver to your application tag.
<code>&lt;receiver android:name="com.localytics.android.ReferralReceiver" android:exported="true"&gt;
&lt;intent-filter&gt;
&lt;action android:name="com.android.vending.INSTALL_REFERRER" /&gt;
&lt;/intent-filter&gt;
&lt;/receiver&gt;</code></li>
<li>If you're using Localytics Attribution for advertising campaigns, add the Ti.Map module to your project. Though you may not be using maps, this module contains the Google Play Services library which is necessary for attribution tracking.
<code>&lt;modules&gt;
&lt;!-- Add this line to your modules section --&gt;
&lt;module platform="android"&gt;ti.map&lt;/module&gt;
&lt;/modules&gt;</code></li>
</ul>
<h3>iOS</h3>
<ul>
<li>Open tiapp.xml in the XML editor mode. Add a <code>&lt;plist&gt;</code> section to the <code>&lt;ios&gt;</code> section if you have not already done so.</li>
<li>Within the <code>&lt;plist&gt;</code> section add a <code>&lt;dict&gt;</code> section. In the <code>&lt;dict&gt;</code> section add the following:
<code>&lt;key&gt;LocalyticsAppKey&lt;/key&gt;
&lt;string&gt;YOUR-APP-KEY&lt;/string&gt;</code></li>
<li>If you're using Localytics Push messaging, be sure to follow the instructions <a href="http://docs.appcelerator.com/titanium/3.0/#!/guide/Configuring_push_services-section-37551713_Configuringpushservices-ConfiguringpushservicesforiOSdevices">here</a> for configuring push for iOS devices.</li>
</ul>
<h2>Automatic</h2>
<p>ANDROID NOTE: This approach is only supported by Ice Cream Sandwich (Android 4.0, API level 14) and later.
<em> in <code>app.js</code> before calling <code>window.open();</code> add the following code
<code>var localytics = require('com.localytics');
localytics.autoIntegrate();</code>
</em> If you are using push, add this line of code as well 
<code>localytics.registerPush();</code></p>
<h2>License</h2>
<p>Copyright (c) 2015, Char Software, Inc. d/b/a Localytics
All rights reserved.</p>
<p>Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:
<em> Redistributions of source code must retain the above copyright
notice, this list of conditions and the following disclaimer.
</em> Neither the nametag of Char Software, Inc., Localytics nor the names of its 
contributors may be used to endorse or promote products derived from this
software without specific prior written permission.</p>
<p>THIS SOFTWARE IS PROVIDED BY CHAR SOFTWARE, INC. D/B/A LOCALYTICS ''AS IS'' AND 
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE 
DISCLAIMED. IN NO EVENT SHALL CHAR SOFTWARE, INC. D/B/A LOCALYTICS BE LIABLE 
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL 
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR 
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER 
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, 
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE 
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
copyright: Copyright (c) 2015 Char Software Inc.</p>